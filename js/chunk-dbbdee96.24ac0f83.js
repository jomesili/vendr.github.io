(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dbbdee96"],{"5d2c":function(e,s,t){e.exports=t.p+"img/user-icon.7a7ac4ec.svg"},d55a:function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("main",{staticClass:"register"},[r("section",{staticClass:"page-title-section theme-bg"},[r("div",{staticClass:"container"},[r("div",{staticClass:"page-title"},[r("h1",[e._v("Register")]),r("ol",{staticClass:"breadcrumb justify-content-center"},[r("li",[r("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),r("li",{staticClass:"active"},[e._v("Register")])])])])]),r("section",[r("div",{staticClass:"container container-large"},[r("div",{staticClass:"row  sm-p-30px-b"},[r("div",{staticClass:"col-md-8 offset-md-2 col-lg-8 offset-lg-2 right-img md-m-30px-t"},[r("div",{staticClass:"contact-form my-3"},[r("img",{staticClass:"user-avatar-cred",attrs:{src:t("5d2c"),alt:"user sign in"}}),r("form",{staticClass:"contactform py-3 my-3",on:{submit:function(s){return s.preventDefault(),e.onSubmit(s)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.firstName,expression:"user.firstName"}],staticClass:"form-control",attrs:{id:"firstName",type:"text",placeholder:"First Name",required:""},domProps:{value:e.user.firstName},on:{input:function(s){s.target.composing||e.$set(e.user,"firstName",s.target.value)}}}),e.errors.firstName?r("div",{staticClass:"invalid-feedback block"},[e._v(e._s(e.errors.firstName))]):e._e()])]),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastName,expression:"user.lastName"}],staticClass:"form-control",attrs:{id:"lastName",type:"text",placeholder:"Last Name",required:""},domProps:{value:e.user.lastName},on:{input:function(s){s.target.composing||e.$set(e.user,"lastName",s.target.value)}}}),e.errors.lastName?r("div",{staticClass:"invalid-feedback block"},[e._v(e._s(e.errors.lastName))]):e._e()])]),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{id:"email",type:"email",placeholder:"Email",required:""},domProps:{value:e.user.email},on:{input:function(s){s.target.composing||e.$set(e.user,"email",s.target.value)}}}),e.errors.email?r("div",{staticClass:"invalid-feedback block"},[e._v(e._s(e.errors.email))]):e._e()])]),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phoneNumber,expression:"user.phoneNumber"}],staticClass:"form-control",attrs:{id:"phoneNumber",type:"text",placeholder:"Phone Number",required:""},domProps:{value:e.user.phoneNumber},on:{input:function(s){s.target.composing||e.$set(e.user,"phoneNumber",s.target.value)}}}),e.errors.phoneNumber?r("div",{staticClass:"invalid-feedback block"},[e._v(e._s(e.errors.phoneNumber))]):e._e()])]),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"Password",name:"password",required:""},domProps:{value:e.user.password},on:{input:function(s){s.target.composing||e.$set(e.user,"password",s.target.value)}}}),e.errors.password?r("div",{staticClass:"invalid-feedback block"},[e._v(e._s(e.errors.password))]):e._e()])]),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.confirmPassword,expression:"user.confirmPassword"}],staticClass:"form-control",attrs:{id:"confirmPassword",type:"password",placeholder:"Confirm Password",required:""},domProps:{value:e.user.confirmPassword},on:{input:function(s){s.target.composing||e.$set(e.user,"confirmPassword",s.target.value)}}}),e.errors.confirmPassword?r("div",{staticClass:"invalid-feedback block"},[e._v(e._s(e.errors.confirmPassword))]):e._e()])]),r("div",{staticClass:"col-md-12"},[r("p",{staticClass:"mb-0"},[e._v("Register as a?")]),r("div",{staticClass:"row mb-3"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"custom-control custom-radio"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.accountType,expression:"user.accountType"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"meterOnwerSelect",value:"1315"},domProps:{checked:e._q(e.user.accountType,"1315")},on:{change:function(s){return e.$set(e.user,"accountType","1315")}}}),e.errors.accountType?r("div",{staticClass:"invalid-feedback block"},[e._v(e._s(e.errors.accountType))]):e._e(),r("label",{staticClass:"custom-control-label",attrs:{for:"meterOnwerSelect"}},[e._v("Meter Owner")])])]),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"custom-control custom-radio inline-block"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.accountType,expression:"user.accountType"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"estateAdminSelect",value:"51"},domProps:{checked:e._q(e.user.accountType,"51")},on:{change:function(s){return e.$set(e.user,"accountType","51")}}}),r("label",{staticClass:"custom-control-label",attrs:{for:"estateAdminSelect"}},[e._v("Estate Admin")])])])])]),r("div",{staticClass:"col-md-12"},[1315==e.user.accountType?r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.meterNumber,expression:"user.meterNumber"}],staticClass:"form-control",attrs:{id:"meterNumber",type:"number",min:"0",placeholder:"Meter Number",required:""},domProps:{value:e.user.meterNumber},on:{input:function(s){s.target.composing||e.$set(e.user,"meterNumber",s.target.value)}}}),e.errors.meterNumber?r("div",{staticClass:"invalid-feedback block"},[e._v(e._s(e.errors.meterNumber))]):e._e()])]),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.user.meterType,expression:"user.meterType"}],staticClass:"form-control",attrs:{id:"meterType"},on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){var s="_value"in e?e._value:e.value;return s});e.$set(e.user,"meterType",s.target.multiple?t:t[0])}}},[r("option",{attrs:{value:""}},[e._v("Meter Type")]),r("option",{attrs:{value:"water"}},[e._v("Water")]),r("option",{attrs:{value:"electricity"}},[e._v("Electricity")]),r("option",{attrs:{value:"gas"}},[e._v("Gas")])]),e.errors.meterType?r("div",{staticClass:"invalid-feedback block"},[e._v(e._s(e.errors.meterType))]):e._e()])])]):e._e()]),r("div",{staticClass:"col-md-12"},[e._m(0),r("div",{staticClass:"clearfix"}),r("br"),r("p",{staticClass:"gray-dark"},[e._v("Already have account? "),r("router-link",{attrs:{to:"login"}},[e._v("Login")])],1)])])])])])])])]),r("FlashMessage")],1)},a=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"send"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit",name:"send"}},[e._v(" Register")])])}],o=(t("96cf"),t("3b8d")),i=t("e84f"),n=t("f99b"),c=t("49b5");function l(e){return console.log("Calling Email Service "+e),Object(c["a"])().post("/sendEmail",e)}var m={name:"register",data:function(){return{user:{firstName:"",lastName:"",email:"",phoneNumber:"",password:"",confirmPassword:"",accountType:1315,meterNumber:"",meterType:""},smsMessageData:{message:"",phoneNumber:"",messageType:"UserRegistration"},emailMessageData:{message:"",email:"",messageType:"UserRegistration"},errors:{},message:""}},methods:{onSubmit:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["k"](this.user).then(function(e){s.errors={},s.$store.state.commonMessage="registration";try{s.smsMessageData.message="Hello "+s.user.firstName+". Thank you for registering on Vendr. \n Welcomem to a pleasant experience. ",s.smsMessageData.phoneNumber=s.user.phoneNumber,s.smsMessageData.messageType="UserRegistration",s.sendSMS(s.smsMessageData),s.emailMessageData.email=s.user.email,s.emailMessageData.message="Hello "+s.user.firstName+". Thank you for registering on Vendr. \n Welcomem to a pleasant experience. ",s.sendEmail(s.emailMessageData)}catch(t){s.flashMessage.error({title:"SMS not sent for "+s.$store.state.userPhoneNumber,message:"An admin has been notified about this issue! Please ensure your Number is correct or contact admin",time:8e3,icon:"../../assets/static/img/water_drop.svg"})}s.$router.push({name:"login"})}).catch(function(e){console.log(e.response.data),e.response.data.message?(s.errors={},s.flashMessage.error({title:"Error",message:"Error occured please reload the page and try again.",time:5e3,icon:"/img/user-dummy.52069854.jpg"})):s.errors=e.response.data.errors});case 2:case"end":return e.stop()}},e,this)}));function s(){return e.apply(this,arguments)}return s}(),sendSMS:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n["a"](this.smsMessageData);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0),this.flashMessage.error({title:"SMS Not sent",message:"Some error occured, contact admin!",time:5e3,icon:"../../assets/static/img/water_drop.svg"});case 9:case"end":return e.stop()}},e,this,[[0,5]])}));function s(){return e.apply(this,arguments)}return s}(),sendEmail:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(this.emailMessageData);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0),this.flashMessage.error({title:"Email Not sent",message:"Some error occured, contact admin!",time:5e3,icon:"../../assets/static/img/water_drop.svg"});case 9:case"end":return e.stop()}},e,this,[[0,5]])}));function s(){return e.apply(this,arguments)}return s}()}},u=m,d=t("2877"),p=Object(d["a"])(u,r,a,!1,null,null,null);s["default"]=p.exports},f99b:function(e,s,t){"use strict";t.d(s,"a",function(){return a});t("cadf"),t("551c"),t("f751"),t("097d");var r=t("49b5");function a(e){return console.log("Sending SMS Service "+e),Object(r["a"])().post("/sendSMS",e)}}}]);
//# sourceMappingURL=chunk-dbbdee96.24ac0f83.js.map